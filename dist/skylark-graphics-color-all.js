/**
 * skylark-graphics-color - The skylark color utility library.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
!function(r,t){var n=t.define,require=t.require,e="function"==typeof n&&n.amd,a=!e&&"undefined"!=typeof exports;if(!e&&!n){var i={};n=t.define=function(r,t,n){"function"==typeof n?(i[r]={factory:n,deps:t.map(function(t){return function(r,t){if("."!==r[0])return r;var n=t.split("/"),e=r.split("/");n.pop();for(var a=0;a<e.length;a++)"."!=e[a]&&(".."==e[a]?n.pop():n.push(e[a]));return n.join("/")}(t,r)}),resolved:!1,exports:null},require(r)):i[r]={factory:null,resolved:!0,exports:n}},require=t.require=function(r){if(!i.hasOwnProperty(r))throw new Error("Module "+r+" has not been defined");var module=i[r];if(!module.resolved){var n=[];module.deps.forEach(function(r){n.push(require(r))}),module.exports=module.factory.apply(t,n)||null,module.resolved=!0}return module.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(r,require){r("skylark-langx-ns/_attach",[],function(){return function(r,t,n){"string"==typeof t&&(t=t.split("."));for(var e=t.length,a=r,i=0,o=t[i++];i<e;)a=a[o]=a[o]||{},o=t[i++];return a[o]=n}}),r("skylark-langx-ns/ns",["./_attach"],function(r){var t={attach:function(n,e){return r(t,n,e)}};return t}),r("skylark-langx-ns/main",["./ns"],function(r){return r}),r("skylark-langx-ns",["skylark-langx-ns/main"],function(r){return r}),r("skylark-langx-types/types",["skylark-langx-ns"],function(r){var t,n=Array.isArray,e={}.toString,a=(t={},"Boolean Number String Function Array Date RegExp Object Error Symbol".split(" ").forEach(function(r){t["[object "+r+"]"]=r.toLowerCase()}),function(r){return null==r?String(r):t[e.call(r)]||"object"}),i=n||function(r){return object&&object.constructor===Array};function o(r){var t;for(t in r)if(null!==r[t])return!1;return!0}function s(r){return"function"==a(r)}function u(r){return r&&r.nodeType}function f(r){return"number"==typeof r}function l(r){var t=typeof r;return"function"===t||"object"===t&&!!r}function c(r){return"string"==typeof r}function h(r){return r&&r==r.window}return r.attach("langx.types",{isArray:i,isArrayLike:function(r){return!c(r)&&!u(r)&&"number"==typeof r.length&&!s(r)},isBoolean:function(r){return!0===r||!1===r||"[object Boolean]"===e.call(r)},isDefined:function(r){return void 0!==r},isDocument:function(r){return null!=r&&r.nodeType==r.DOCUMENT_NODE},isElement:function(r){return!(!r||1!==r.nodeType)},isEmpty:o,isEmptyObject:o,isFunction:s,isHtmlNode:u,isNaN:function(r){return isNaN(r)},isNull:function(r){return null===r},isNumber:f,isNumeric:f,isObject:l,isPlainObject:function(r){return l(r)&&!h(r)&&Object.getPrototypeOf(r)==Object.prototype},isString:c,isSameOrigin:function(r){if(r){var t=location.protocol+"//"+location.hostname;return location.port&&(t+=":"+location.port),r.startsWith(t)}},isSymbol:function(r){return"symbol"==typeof r||isObjectLike(r)&&objectToString.call(r)==symbolTag},isUndefined:function(r){return void 0===r},isWindow:h,type:a})}),r("skylark-langx-types/main",["./types"],function(r){return r}),r("skylark-langx-types",["skylark-langx-types/main"],function(r){return r}),r("skylark-langx-numbers/numbers",["skylark-langx-ns","skylark-langx-types"],function(r,t){var n=t.isObject,e=t.isSymbol,a=1/0,i=1.7976931348623157e308,o=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function h(r){if(!r)return 0===r?r:0;if((r=g(r))===a||r===-a){var t=r<0?-1:1;return t*i}return r==r?r:0}function g(r){if("number"==typeof r)return r;if(e(r))return o;if(n(r)){var t="function"==typeof r.valueOf?r.valueOf():r;r=n(t)?t+"":t}if("string"!=typeof r)return 0===r?r:+r;r=r.replace(s,"");var a=f.test(r);return a||l.test(r)?c(r.slice(2),a?2:8):u.test(r)?o:+r}return r.attach("langx.numbers",{toFinite:h,toNumber:g,toInteger:function(r){var t=h(r),n=t%1;return t==t?n?t-n:t:0}})}),r("skylark-langx-numbers/main",["./numbers"],function(r){return r}),r("skylark-langx-numbers",["skylark-langx-numbers/main"],function(r){return r}),r("skylark-langx-objects/objects",["skylark-langx-ns/ns","skylark-langx-ns/_attach","skylark-langx-types","skylark-langx-numbers"],function(r,t,n,e){var a,i,o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u=n.isBoolean,f=n.isFunction,l=n.isObject,c=n.isPlainObject,h=n.isArray,g=n.isArrayLike,b=n.isString,p=e.toInteger;var d,y,v="undefined"!=typeof Symbol?Symbol.prototype:null;function m(r){if(!l(r))return[];var t=[];for(var n in r)t.push(n);return t}function x(r,t){if(!h(t))return null!=r&&o.call(r,t);for(var n=t.length,e=0;e<n;e++){var a=t[e];if(null==r||!o.call(r,a))return!1;r=r[a]}return!!n}function k(r,t,n,e){for(var a in t)e&&void 0!==r[a]||(n&&(c(t[a])||h(t[a]))?(c(t[a])&&!c(r[a])&&(r[a]={}),h(t[a])&&!h(r[a])&&(r[a]=[]),k(r[a],t[a],n,e)):void 0!==t[a]&&(r[a]=t[a]));return r}function _(r){var t=s.call(arguments,0),n=t.shift(),e=!1;return u(t[t.length-1])&&(e=t.pop()),{target:n,sources:t,deep:e}}function A(){var r=_.apply(this,arguments);return r.sources.forEach(function(t){k(r.target,t,r.deep,!1)}),r.target}function w(r){for(var t=m(r),n=t.length,e=Array(n),a=0;a<n;a++)e[a]=r[t[a]];return e}return a=function(r,t,n,e){if(r===t)return 0!==r||1/r==1/t;if(null==r||null==t)return!1;if(r!=r)return t!=t;var a=typeof r;return("function"===a||"object"===a||"object"==typeof t)&&i(r,t,n,e)},i=function(r,t,n,e){var i=toString.call(r);if(i!==toString.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+r==""+t;case"[object Number]":return+r!=+r?+t!=+t:0==+r?1/+r==1/t:+r==+t;case"[object Date]":case"[object Boolean]":return+r==+t;case"[object Symbol]":return v.valueOf.call(r)===v.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof r||"object"!=typeof t)return!1;var s=r.constructor,u=t.constructor;if(s!==u&&!(f(s)&&s instanceof s&&f(u)&&u instanceof u)&&"constructor"in r&&"constructor"in t)return!1}n=n||[],e=e||[];for(var l=n.length;l--;)if(n[l]===r)return e[l]===t;if(n.push(r),e.push(t),o){if((l=r.length)!==t.length)return!1;for(;l--;)if(!a(r[l],t[l],n,e))return!1}else{var c,h=Object.keys(r);if(l=h.length,Object.keys(t).length!==l)return!1;for(;l--;)if(c=h[l],void 0===t[c]||!a(r[c],t[c],n,e))return!1}return n.pop(),e.pop(),!0},r.attach("langx.objects",{allKeys:m,attach:t,clone:function r(t,n){var e;if(void 0===t||null===t)e=t;else if(n&&t.clone)e=t.clone();else if(h(t)){e=[];for(var a=0;a<t.length;a++)e.push(r(t[a]))}else if(c(t))for(var i in e={},t)e[i]=r(t[i]);else e=t;return e},defaults:(d=m,y=!0,function(r){var t=arguments.length;if(y&&(r=Object(r)),t<2||null==r)return r;for(var n=1;n<t;n++)for(var e=arguments[n],a=d(e),i=a.length,o=0;o<i;o++){var s=a[o];y&&void 0!==r[s]||(r[s]=e[s])}return r}),each:function(r,t,n){var e,a,i,o;if(r)if(void 0===(e=r.length)){for(a in r)if(r.hasOwnProperty(a)&&(o=r[a],!1===(n?t.call(o,o,a):t.call(o,a,o))))break}else for(i=0;i<e&&(o=r[i],!1!==(n?t.call(o,o,i):t.call(o,i,o)));i++);return this},extend:function(r){var t,n=s.call(arguments,1);"boolean"==typeof r&&(t=r,r=n.shift());0==n.length&&(n=[r],r=this);return n.forEach(function(n){A(r,n,t)}),r},has:x,isEqual:function(r,t){return a(r,t)},includes:function(r,t,n,e){r=g(r)?r:w(r),n=n&&!e?p(n):0;var a=r.length;n<0&&(n=nativeMax(a+n,0));return b(r)?n<=a&&r.indexOf(t,n)>-1:!!a&&baseIndexOf(r,t,n)>-1},isMatch:function(r,t){var n=n(t),e=n.length;if(null==r)return!e;for(var a=Object(r),i=0;i<e;i++){var o=n[i];if(t[o]!==a[o]||!(o in a))return!1}return!0},keys:function(r){if(l(r))return[];var t=[];for(var n in r)x(r,n)&&t.push(n);return t},mixin:A,omit:function(r,t,n){if(!r)return null;for(var e=A({},r),a=1;a<arguments.length;a++){var i=arguments[a];i in r&&delete e[i]}return e},pick:function(r,t,n){if(!r)return null;for(var e={},a=1;a<arguments.length;a++){var i=arguments[a];i in r&&(e[i]=r[i])}return e},removeItem:function(r,t){if(h(r)){var n=r.indexOf(t);-1!=n&&r.splice(n,1)}else if(c(r))for(var e in r)if(r[e]==t){delete r[e];break}return this},result:function(r,t,n){h(t)||(t=t.split("."));var e=t.length;if(!e)return f(n)?n.call(r):n;for(var a=0;a<e;a++){var i=null==r?void 0:r[t[a]];void 0===i&&(i=n,a=e),r=f(i)?i.call(r):i}return r},safeMixin:function(){var r=_.apply(this,arguments);return r.sources.forEach(function(t){k(r.target,t,r.deep,!0)}),r.target},values:w})}),r("skylark-langx-objects/main",["./objects"],function(r){return r}),r("skylark-langx-objects",["skylark-langx-objects/main"],function(r){return r}),r("skylark-langx-arrays/arrays",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects"],function(r,t,n){var e=Array.prototype.filter,a=Array.prototype.find,i=t.isArrayLike;function o(r,t,n,e){for(var a=r.length,i=n+(e?1:-1);e?i--:++i<a;)if(t(r[i],i,r))return i;return-1}function s(r){return r!=r}function u(r){if(i(r)){for(var t=[],n=0;n<r.length;n++){var e=r[n];if(i(e))for(var a=0;a<e.length;a++)t.push(e[a]);else t.push(e)}return t}return r}return r.attach("langx.arrays",{baseFindIndex:o,baseIndexOf:function(r,t,n){if(t!=t)return o(r,s,n);var e=n-1,a=r.length;for(;++e<a;)if(r[e]===t)return e;return-1},compact:function(r){return e.call(r,function(r){return null!=r})},first:function(r,t){return t?r.slice(0,t):r[0]},filter:function(r,t){return e.call(r,t)},find:function(r,t){return a.call(r,t)},flatten:u,grep:function(r,t){var e=[];return n.each(r,function(r,n){t(n,r)&&e.push(n)}),e},inArray:function(r,t){if(!t)return-1;var n;if(t.indexOf)return t.indexOf(r);n=t.length;for(;n--;)if(t[n]===r)return n;return-1},makeArray:function(r,t,n){if(i(r))return(n||[]).concat(Array.prototype.slice.call(r,t||0));return[r]},merge:function(r,t){var n=t.length,e=r.length,a=0;if("number"==typeof n)for(;a<n;a++)r[e++]=t[a];else for(;void 0!==t[a];)r[e++]=t[a++];return r.length=e,r},forEach:function(r,t){if(r.forEach)return r.forEach(t);for(var n=0;n<r.length;n++)t(r[n],n)},map:function(r,t){var n,e,a,o=[];if(i(r))for(e=0;e<r.length;e++)null!=(n=t.call(r[e],r[e],e))&&o.push(n);else for(a in r)null!=(n=t.call(r[a],r[a],a))&&o.push(n);return u(o)},reduce:function(r,t,n){return Array.prototype.reduce.call(r,t,n)},uniq:function(r){return e.call(r,function(t,n){return r.indexOf(t)==n})}})}),r("skylark-langx-arrays/main",["./arrays"],function(r){return r}),r("skylark-langx-arrays",["skylark-langx-arrays/main"],function(r){return r}),r("skylark-langx-klass/klass",["skylark-langx-ns/ns","skylark-langx-types","skylark-langx-objects","skylark-langx-arrays"],function(r,t,n,e){var a=e.uniq,i=n.has,o=n.mixin,s=t.isArray,u=t.isDefined;var f=function(){function r(){return this._construct?this._construct.apply(this,arguments):this.init?this.init.apply(this,arguments):void 0}return function n(e,f,l,c){s(f)&&(c=l,l=f,f=null),f=f||Object,u(l)&&!s(l)&&(c=l,l=!1);var h=f;l&&(l=function(r,t){var n=[];return t.forEach(function(r){if(i(r,"__mixins__"))throw new Error("nested mixins");for(var t=[];r;)t.unshift(r),r=r.superclass;n=n.concat(t)}),(n=(n=a(n)).filter(function(t){for(var n=r;n;){if(t===n)return!1;if(i(n,"__mixins__"))for(var e=n.__mixins__,a=0;a<e.length;a++)if(e[a]===t)return!1;n=n.superclass}return!0})).length>0&&n}(h,l)),l&&(h=function(r,t){for(var n=r,e=0;e<t.length;e++){var a=new Function;a.prototype=Object.create(n.prototype),a.__proto__=n,a.superclass=null,o(a.prototype,t[e].prototype),a.prototype.__mixin__=t[e],n=a}return n}(h,l));var g=e.klassName||"",b=new Function("return function "+g+"() {var inst = this, ctor = arguments.callee;if (!(inst instanceof ctor)) {inst = Object.create(ctor.prototype);}return ctor._constructor.apply(inst, arguments) || inst;}")();return b.prototype=Object.create(h.prototype),b.prototype.constructor=b,b.superclass=f,b.__proto__=h,b._constructor||(b._constructor=r),l&&(b.__mixins__=l),b.partial||(b.partial=function(r,n){return function(r,n,e){var a=r.prototype,i=r.superclass.prototype,o=e&&e.noOverrided;e&&e.overrides;for(var s in n)if("constructor"!==s){var u=n[s];"function"==typeof n[s]?a[s]=u._constructor||o||"function"!=typeof i[s]?u:function(r,t,n){return function(){var r=this.overrided;this.overrided=n;var e=t.apply(this,arguments);return this.overrided=r,e}}(0,u,i[s]):t.isPlainObject(u)&&null!==u&&u.get?Object.defineProperty(a,s,u):a[s]=u}return r}(this,r,n)}),b.inherit||(b.inherit=function(r,t,e){return n(r,this,t,e)}),b.partial(e,c),b}}();return r.attach("langx.klass",f)}),r("skylark-langx-klass/main",["./klass"],function(r){return r}),r("skylark-langx-klass",["skylark-langx-klass/main"],function(r){return r}),r("skylark-graphics-color/_names",[],function(){return{aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"}}),r("skylark-graphics-color/_hexNames",["./_names"],function(r){return function(r){var t={};for(var n in r)r.hasOwnProperty(n)&&(t[r[n]]=n);return t}(r)}),r("skylark-graphics-color/_conversion",[],function(){var r=Math,t=r.round,n=r.min,e=r.max;r.random;function a(r){return 1==r.length?"0"+r:""+r}function i(t,a){(function(r){return"string"==typeof r&&-1!=r.indexOf(".")&&1===parseFloat(r)})(t)&&(t="100%");var i=function(r){return"string"==typeof r&&-1!=r.indexOf("%")}(t);return t=n(a,e(0,parseFloat(t))),i&&(t=parseInt(t*a,10)/100),r.abs(t-a)<1e-6?1:t%a/parseFloat(a)}return{bound01:i,rgbToRgb:function(r,t,n){return{r:255*i(r,255),g:255*i(t,255),b:255*i(n,255)}},rgbToHsl:function(r,t,a){r=i(r,255),t=i(t,255),a=i(a,255);var o,s,u=e(r,t,a),f=n(r,t,a),l=(u+f)/2;if(u==f)o=s=0;else{var c=u-f;switch(s=l>.5?c/(2-u-f):c/(u+f),u){case r:o=(t-a)/c+(t<a?6:0);break;case t:o=(a-r)/c+2;break;case a:o=(r-t)/c+4}o/=6}return{h:o,s:s,l:l}},hslToRgb:function(r,t,n){var e,a,o;function s(r,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?r+6*(t-r)*n:n<.5?t:n<2/3?r+(t-r)*(2/3-n)*6:r}if(r=i(r,360),t=i(t,100),n=i(n,100),0===t)e=a=o=n;else{var u=n<.5?n*(1+t):n+t-n*t,f=2*n-u;e=s(f,u,r+1/3),a=s(f,u,r),o=s(f,u,r-1/3)}return{r:255*e,g:255*a,b:255*o}},rgbToHsv:function(r,t,a){r=i(r,255),t=i(t,255),a=i(a,255);var o,s,u=e(r,t,a),f=n(r,t,a),l=u,c=u-f;if(s=0===u?0:c/u,u==f)o=0;else{switch(u){case r:o=(t-a)/c+(t<a?6:0);break;case t:o=(a-r)/c+2;break;case a:o=(r-t)/c+4}o/=6}return{h:o,s:s,v:l}},hsvToRgb:function(t,n,e){t=6*i(t,360),n=i(n,100),e=i(e,100);var a=r.floor(t),o=t-a,s=e*(1-n),u=e*(1-o*n),f=e*(1-(1-o)*n),l=a%6;return{r:255*[e,u,s,s,f,e][l],g:255*[f,e,e,u,s,s][l],b:255*[s,s,f,e,e,u][l]}},rgbToHex:function(r,n,e,i){var o=[a(t(r).toString(16)),a(t(n).toString(16)),a(t(e).toString(16))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0);return o.join("")},rgbaToHex:function(r,n,e,i){return[a(convertDecimalToHex(i)),a(t(r).toString(16)),a(t(n).toString(16)),a(t(e).toString(16))].join("")},hexToRgb:function(r){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}}}),r("skylark-graphics-color/Color",["skylark-langx-ns","skylark-langx-types","skylark-langx-klass","./_names","./_hexNames","./_conversion"],function(r,t,n,e,a,i){var o=Math,s=o.round,u=o.min,f=o.max,l=o.random;function c(r){return u(1,f(0,r))}var h=n({init:function(r,n){n=n||{},t.isString(r)&&(r=i.hexToRgb(r)),this._r=r.r,this._g=r.g,this._b=r.b,this._a=t.isDefined(r.a)?r.a:1,this._roundA=s(1e3*this._a)/1e3,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=s(this._r)),this._g<1&&(this._g=s(this._g)),this._b<1&&(this._b=s(this._b))},isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var r=this.toRgb();return(299*r.r+587*r.g+114*r.b)/1e3},setAlpha:function(r){return this._a=function(r){r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1);return r}(r),this._roundA=s(1e3*this._a)/1e3,this},toHsv:function(){var r=i.rgbToHsv(this._r,this._g,this._b);return{h:360*r.h,s:r.s,v:r.v,a:this._a}},toHsvString:function(){var r=i.rgbToHsv(this._r,this._g,this._b),t=s(360*r.h),n=s(100*r.s),e=s(100*r.v);return 1==this._a?"hsv("+t+", "+n+"%, "+e+"%)":"hsva("+t+", "+n+"%, "+e+"%, "+this._roundA+")"},toHsl:function(){var r=i.rgbToHsl(this._r,this._g,this._b);return{h:360*r.h,s:r.s,l:r.l,a:this._a}},toHslString:function(){var r=i.rgbToHsl(this._r,this._g,this._b),t=s(360*r.h),n=s(100*r.s),e=s(100*r.l);return 1==this._a?"hsl("+t+", "+n+"%, "+e+"%)":"hsla("+t+", "+n+"%, "+e+"%, "+this._roundA+")"},toHex:function(r){return i.rgbToHex(this._r,this._g,this._b,r)},toHexString:function(r){return"#"+this.toHex(r)},toHex8:function(){return i.rgbaToHex(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:s(100*i.bound01(this._r,255))+"%",g:s(100*i.bound01(this._g,255))+"%",b:s(100*i.bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+s(100*i.bound01(this._r,255))+"%, "+s(100*i.bound01(this._g,255))+"%, "+s(100*i.bound01(this._b,255))+"%)":"rgba("+s(100*i.bound01(this._r,255))+"%, "+s(100*i.bound01(this._g,255))+"%, "+s(100*i.bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(a[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(r){var t="#"+i.rgbaToHex(this._r,this._g,this._b,this._a),n=t,e=this._gradientType?"GradientType = 1, ":"";if(r){var a=h(r);n=a.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+e+"startColorstr="+t+",endColorstr="+n+")"},toString:function(r){var t=!!r;r=r||this._format;var n=!1,e=this._a<1&&this._a>=0,a=!t&&e&&("hex"===r||"hex6"===r||"hex3"===r||"name"===r);return a?"name"===r&&0===this._a?this.toName():this.toRgbString():("rgb"===r&&(n=this.toRgbString()),"prgb"===r&&(n=this.toPercentageRgbString()),"hex"!==r&&"hex6"!==r||(n=this.toHexString()),"hex3"===r&&(n=this.toHexString(!0)),"hex8"===r&&(n=this.toHex8String()),"name"===r&&(n=this.toName()),"hsl"===r&&(n=this.toHslString()),"hsv"===r&&(n=this.toHsvString()),n||this.toHexString())},lighten:function(r){r=0===r?0:r||10;var t=this.toHsl();return t.l+=r/100,t.l=c(t.l),h.fromHsl(t)},brighten:function(r){r=0===r?0:r||10;var t=this.toRgb();return t.r=f(0,u(255,t.r-s(-r/100*255))),t.g=f(0,u(255,t.g-s(-r/100*255))),t.b=f(0,u(255,t.b-s(-r/100*255))),new h(t)},darken:function(r){r=0===r?0:r||10;var t=this.toHsl();return t.l-=r/100,t.l=c(t.l),h.fromHsl(t)},desaturate:function(r){r=0===r?0:r||10;var t=this.toHsl();return t.s-=r/100,t.s=c(t.s),h.fromHsl(t)},saturate:function(r){r=0===r?0:r||10;var t=this.toHsl();return t.s+=r/100,t.s=c(t.s),h.fromHsl(t)},greyscale:function(){return this.desaturate(100)},spin:function(r){var t=this.toHsl(),n=(s(t.h)+r)%360;return t.h=n<0?360+n:n,h.fromHsl(t)},analogous:function(r,t){r=r||6,t=t||30;var n=this.toHsl(),e=360/t,a=[this];for(n.h=(n.h-(e*r>>1)+720)%360;--r;)n.h=(n.h+e)%360,a.push(h.fromHsl(n));return a},complement:function(){var r=this.toHsl();return r.h=(r.h+180)%360,h.fromHsl(r)},monochromatic:function(r){r=r||6;for(var t=this.toHsv(),n=t.h,e=t.s,a=t.v,i=[],o=1/r;r--;)i.push(h.fromHsv({h:n,s:e,v:a})),a=(a+o)%1;return i},splitcomplement:function(){var r=this.toHsl(),t=r.h;return[this,h.fromHsl({h:(t+72)%360,s:r.s,l:r.l}),h.fromHsl({h:(t+216)%360,s:r.s,l:r.l})]},triad:function(){var r=this.toHsl(),t=r.h;return[this,h.fromHsl({h:(t+120)%360,s:r.s,l:r.l}),h.fromHsl({h:(t+240)%360,s:r.s,l:r.l})]},tetrad:function(){var r=this.toHsl(),t=r.h;return[this,h.fromHsl({h:(t+90)%360,s:r.s,l:r.l}),h.fromHsl({h:(t+180)%360,s:r.s,l:r.l}),h.fromHsl({h:(t+270)%360,s:r.s,l:r.l})]},mix:function(r,t){t=0===t?0:t||50;var n,e=this.toRgb(),a=r.toRgb(),i=t/100,o=2*i-1,s=a.a-e.a,u=1-(n=((n=o*s==-1?o:(o+s)/(1+o*s))+1)/2),f={r:a.r*n+e.r*u,g:a.g*n+e.g*u,b:a.b*n+e.b*u,a:a.a*i+e.a*(1-i)};return new h(f)},isValid:function(){return!0}});return h.equals=function(r,t){return!(!r||!t)&&(r=h.parse(r),t=h.parse(t),r.toRgbString()==t.toRgbString())},h.random=function(){return h.fromRatio({r:l(),g:l(),b:l()})},h.fromRgba=function(r,t,n,e){return new h({r:r,g:t,b:n,a:e})},h.fromRgb=function(r,t,n){return new h({r:r,g:t,b:n})},h.fromHsl=function(r,t,n,e){var a=i.hslToRgb(r,t,n);return new h(a)},h.fromHsv=function(r,t,n,e){var a=i.hsvToRgb(r,t,n);return new h(a)},r.attach("graphics.Color",h)}),r("skylark-langx-strings/strings",["skylark-langx-ns"],function(r){var t=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"});function n(r){return t[r]}var e=/[&<>"'`=]/g;var a=0;function i(r,t){var n,e,a,i,o,s,u,f=arguments.callee;return f.cache[r]||(f.cache[r]=(n=r,e=/^[\w\-]+$/.test(r)?f.get(r):(n="template(string)",r),a=1,i=("try { "+(f.variable?"var "+f.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+e.replace(/<%/g,"").replace(/%>/g,"").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n|\r\n/g,function(){return"';\nthis.line = "+ ++a+"; this.ret += '\\n"}).replace(/\x11=raw(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(f.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+n+"' + ' line ' + this.line + ')'; } //@ sourceURL="+n+"\n").replace(/this\.ret \+= '';/g,""),o=new Function(i),s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},u=function(r){return(""+r).replace(/[&<>\'\"]/g,function(r){return s[r]})},function(r){return o.call(f.context={escapeHTML:u,line:1,ret:"",stash:r})})),t?f.cache[r](t):f.cache[r]}return i.cache={},i.get=function(r){return document.getElementById(r).innerHTML},r.attach("langx.strings",{camelCase:function(r){return r.replace(/-([\da-z])/g,function(r){return r.toUpperCase().replace("-","")})},dasherize:function(r){return r.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},deserializeValue:function(r){try{return r?"true"==r||"false"!=r&&("null"==r?null:+r+""==r?+r:/^[\[\{]/.test(r)?JSON.parse(r):r):r}catch(t){return r}},escapeHTML:function(r){if(null==r)return"";if(!r)return String(r);return r.toString().replace(e,n)},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var t=16*Math.random()|0,n="x"===r?t:3&t|8;return n.toString(16)})},ltrim:function(r){return r.replace(/^\s+/,"")},lowerFirst:function(r){return r.charAt(0).toLowerCase()+r.slice(1)},rtrim:function(r){return r.replace(/\s+$/,"")},serializeValue:function(r){return JSON.stringify(r)},substitute:function(r,t,n,e){function a(r,t){if(r.match(/\./)){var n,e=function(r,t){var a=r.pop();return a?t[a]?e(r,n=t[a]):null:n};return e(r.split(".").reverse(),t)}return t[r]}return e=e||window,n=n?proxy(e,n):function(r){return r},r.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(r,i,o){var s=a(i,t);return o&&(s=a(o,e).call(e,s,i)),n(s,i).toString()})},slugify:function(r){r=(r=r.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="ÁÄÂÀÃÅČÇĆĎÉĚËÈÊẼĔȆÍÌÎÏŇÑÓÖÒÔÕØŘŔŠŤÚŮÜÙÛÝŸŽáäâàãåčçćďéěëèêẽĕȇíìîïňñóöòôõøðřŕšťúůüùûýÿžþÞĐđßÆa·/_,:;",n=0,e=t.length;n<e;n++)r=r.replace(new RegExp(t.charAt(n),"g"),"AAAAAACCCDEEEEEEEEIIIINNOOOOOORRSTUUUUUYYZaaaaaacccdeeeeeeeeiiiinnooooooorrstuuuuuyyzbBDdBAa------".charAt(n));return r=r.replace(/\s+/g,"-").replace(/-+/g,"-")},trim:function(r){return null==r?"":String.prototype.trim.call(r)},uniqueId:function(r){var t=++a+"";return r?r+t:t},upperFirst:function(r){return r.charAt(0).toUpperCase()+r.slice(1)}})}),r("skylark-langx-strings/base64",["./strings"],function(r){return r.base64={decode:function(r,t){t=null!=t&&t;var n,e,a,i,o,s,u,f="",l=0;r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(;l<r.length;)i=this._keyStr.indexOf(r.charAt(l++)),o=this._keyStr.indexOf(r.charAt(l++)),s=this._keyStr.indexOf(r.charAt(l++)),u=this._keyStr.indexOf(r.charAt(l++)),n=i<<2|o>>4,e=(15&o)<<4|s>>2,a=(3&s)<<6|u,f+=String.fromCharCode(n),64!=s&&(f+=String.fromCharCode(e)),64!=u&&(f+=String.fromCharCode(a));t||(f=function(r){var t="",n=0,e=c1=c2=0;for(;n<r.length;)(e=r.charCodeAt(n))<128?(t+=String.fromCharCode(e),n++):e>191&&e<224?(c2=r.charCodeAt(n+1),t+=String.fromCharCode((31&e)<<6|63&c2),n+=2):(c2=r.charCodeAt(n+1),c3=r.charCodeAt(n+2),t+=String.fromCharCode((15&e)<<12|(63&c2)<<6|63&c3),n+=3);return t}(f));return f},encode:function(r,t){var n,e,a,i,o,s,u,f="",l=0;(t=null!=t&&t)||(r=function(r){r=r.replace(/\r\n/g,"\n");for(var t="",n=0;n<r.length;n++){var e=r.charCodeAt(n);e<128?t+=String.fromCharCode(e):e>127&&e<2048?(t+=String.fromCharCode(e>>6|192),t+=String.fromCharCode(63&e|128)):(t+=String.fromCharCode(e>>12|224),t+=String.fromCharCode(e>>6&63|128),t+=String.fromCharCode(63&e|128))}return t}(r));for(;l<r.length;)n=r.charCodeAt(l++),e=r.charCodeAt(l++),a=r.charCodeAt(l++),i=n>>2,o=(3&n)<<4|e>>4,s=(15&e)<<2|a>>6,u=63&a,isNaN(e)?s=u=64:isNaN(a)&&(u=64),f=f+this._keyStr.charAt(i)+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(u);return f}}}),r("skylark-langx-strings/main",["./strings","./base64"],function(r){return r}),r("skylark-langx-strings",["skylark-langx-strings/main"],function(r){return r}),r("skylark-graphics-color/parse",["skylark-langx-strings","./Color","./_names","./_conversion"],function(r,t,n,e){var a,i,o,s=Math,u=(s.round,s.min),f=s.max,l=(s.random,i="[\\s|\\(]+("+(a="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+a+")[,|\\s]+("+a+")\\s*\\)?",o="[\\s|\\(]+("+a+")[,|\\s]+("+a+")[,|\\s]+("+a+")[,|\\s]+("+a+")\\s*\\)?",{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex3s:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6s:/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8s:/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function c(r){return r<=1&&(r=100*r+"%"),r}function h(r){return parseInt(r,16)}function g(t){t=r.trim(t).toLowerCase();var e,a,i=!1;if(n[t])t=n[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=l.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=l.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=l.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=l.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=l.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=l.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=l.hex8.exec(t))||(e=l.hex8s.exec(t))?{a:(a=e[1],h(a)/255),r:h(e[2]),g:h(e[3]),b:h(e[4]),format:i?"name":"hex8"}:(e=l.hex6.exec(t))||(e=l.hex6s.exec(t))?{r:h(e[1]),g:h(e[2]),b:h(e[3]),format:i?"name":"hex"}:!(!(e=l.hex3.exec(t))&&!(e=l.hex3s.exec(t)))&&{r:h(e[1]+""+e[1]),g:h(e[2]+""+e[2]),b:h(e[3]+""+e[3]),format:i?"name":"hex"}}return t.parse=function(r){if(r instanceof t)return r;var n={r:0,g:0,b:0},a=1,i=!1,o=!1;"string"==typeof r&&(r=g(r));"object"==typeof r&&(r.hasOwnProperty("r")&&r.hasOwnProperty("g")&&r.hasOwnProperty("b")?(n=e.rgbToRgb(r.r,r.g,r.b),i=!0,o="%"===String(r.r).substr(-1)?"prgb":"rgb"):r.hasOwnProperty("h")&&r.hasOwnProperty("s")&&r.hasOwnProperty("v")?(r.s=c(r.s),r.v=c(r.v),n=e.hsvToRgb(r.h,r.s,r.v),i=!0,o="hsv"):r.hasOwnProperty("h")&&r.hasOwnProperty("s")&&r.hasOwnProperty("l")&&(r.s=c(r.s),r.l=c(r.l),n=e.hslToRgb(r.h,r.s,r.l),i=!0,o="hsl"),r.hasOwnProperty("a")&&(a=r.a));return new t({ok:i,r:u(255,f(n.r,0)),g:u(255,f(n.g,0)),b:u(255,f(n.b,0)),a:a},{format:r.format||o})}}),r("skylark-graphics-color/named",["./Color","./_names","./parse"],function(r,t,n){var e={};for(var a in n)e[a]=r.parse(n[a]);return r.named=e}),r("skylark-graphics-color/misc",["./Color"],function(r){return{readability:function(r,t){var n=r,e=t,a=n.toRgb(),i=e.toRgb(),o=n.getBrightness(),s=e.getBrightness(),u=Math.max(a.r,i.r)-Math.min(a.r,i.r)+Math.max(a.g,i.g)-Math.min(a.g,i.g)+Math.max(a.b,i.b)-Math.min(a.b,i.b);return{brightness:Math.abs(o-s),color:u}},isReadable:function(r,t){var n=n(r,t);return n.brightness>125&&n.color>500},mostReadable:function(t,n){for(var e=null,a=0,i=!1,o=0;o<n.length;o++){var s=s(t,n[o]),u=s.brightness>125&&s.color>500,f=s.brightness/125*3+s.color/500;(u&&!i||u&&i&&f>a||!u&&!i&&f>a)&&(i=u,a=f,e=new r(n[o]))}return e}}}),r("skylark-graphics-color/main",["./Color","./named","./misc","./parse"],function(r){return r}),r("skylark-graphics-color",["skylark-graphics-color/main"],function(r){return r})}(n),!e){var o=require("skylark-langx-ns");a?module.exports=o:t.skylarkjs=o}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-graphics-color-all.js.map
